{% extends "base.html" %}
{% load i18n %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-12 mb-3">
            <div class="video-info mb-4">
                <h3 class="text-body-secondary">{% trans "Video Title: " %}{{ video.title }}</h3>
            </div>
            {% if not video.chunks.exists %}
                <form action="{% url 'chunk_video' video.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-primary mb-3">{% trans "Chunk Transcript" %}</button>
                </form>
            {% endif %}
        </div>
    </div>
    <div class="container mt-4 dark-theme">
        <div class="row">
            <div class="col-lg-3">
                <!-- Enhanced Chunks Container on the Left with Dark Theme -->
                <div class="chunks-container shadow p-4 rounded-3 video-card dark-container">
                    <h4 class="text-center mb-4 text-light">Video Chunks</h4>
                    <div class="list-group dark-list-group">
                        {% for chunk in chunks %}
                        <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center p-2 dark-list-item" onclick="copyToClipboard('{{ chunk.text|escapejs }}'); return false;">
                            <span class="text-light">Chunk {{ forloop.counter }}</span>
                            <small class="text-secondary">Copy</small>
                        </a>
                        {% endfor %}
                    </div>
                </div>
            </div>
            
            <!-- Dynamic Content or Placeholder -->
            <div class="col-lg-9">
                <!-- Example content or future functionality can be placed here -->
                <div class="placeholder-content">
                    <!-- Placeholder for visual balance and demonstration -->
                    <h4 class="text-muted text-center my-5 text-body-secondary">Additional Content Goes Here</h4>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Redesigned message container for copy confirmation -->
<div id="copyConfirmation" class="alert alert-success" role="alert" style="display: none; position: fixed; top: 223px; left: 31%; transform: translateX(-50%); z-index: 1050;">
    {% trans "Text Copied!" %}
</div>

{% endblock %}
